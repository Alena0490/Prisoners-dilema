:root{--main-color: #ffc1ff;--accent-color: #76A9AD;--background-color: #254559;--background-color-tr: #2545599c;--background-color-light: #68868C;--background-color-dark: #1C3847;--text-primary: #F5FEFF;--text-secondary: #eafdff;--text-invert: #1C3847;--text-disabled: #7A9AA5;--hover-color: color-mix(in srgb, var(--accent-color) 85%, white 15%);--active-color: color-mix(in srgb, var(--accent-color) 85%, black 15%);--disabled-color: color-mix(in srgb, var(--background-color-light) 80%, black 20%);--border-light: #9CB3BA;--border-dark: #1A3D4F;--surface-1: var(--background-color-light);--surface-2: color-mix(in srgb, var(--background-color-light) 70%, var(--background-color) 30%);--surface-border: color-mix(in srgb, var(--border-light) 55%, transparent);--shadow-1: 0 10px 30px rgba(0,0,0,.25);--shadow-2: 0 2px 10px rgba(0,0,0,.18);--btn-surface: color-mix(in srgb, var(--background-color-light) 70%, white 30%);--btn-surface-hover: color-mix(in srgb, var(--btn-surface) 85%, white 15%);--btn-surface-pressed: color-mix(in srgb, var(--btn-surface) 80%, black 20%);--btn-border: color-mix(in srgb, var(--border-light) 50%, transparent);--btn-inner-light: rgba(255,255,255,.45);--btn-inner-shadow: rgba(0,0,0,.18);--btn-shadow-soft: 0 8px 20px rgba(0,0,0,.18);--btn-shadow-pressed: 0 4px 10px rgba(0,0,0,.2);--btn-text: var(--text-invert);--btn-disabled-surface: color-mix(in srgb, var(--background-color-light) 80%, black 20%);--btn-disabled-border: color-mix(in srgb, var(--border-light) 40%, transparent);--btn-disabled-text: var(--text-disabled);--btn-disabled-shadow: 0 3px 8px rgba(0,0,0,.18);--map-bg: var(--background-color-dark);--map-fill: var(--accent-color);--map-fill-hover: var(--hover-color);--map-stroke: color-mix(in srgb, var(--border-dark) 85%, var(--background-color));--map-stroke-hover: color-mix(in srgb, var(--main-color) 60%, var(--text-primary));--panel-bg: color-mix(in srgb, var(--background-color-light) 88%, var(--background-color) 12%);--panel-border: color-mix(in srgb, var(--border-light) 55%, transparent);--panel-shadow: 0 18px 40px rgba(0,0,0,.28);--section-bg: color-mix(in srgb, var(--background-color) 12%, transparent);--section-border: color-mix(in srgb, var(--border-dark) 25%, transparent);--frame-border: color-mix(in srgb, var(--border-dark) 55%, var(--border-light));--frame-highlight: rgba(255,255,255,.1);--frame-shadow: 0 10px 22px rgba(0,0,0,.35);--btn-shadow: 0 4px 0 rgba(0,0,0,.35), 0 10px 16px rgba(0,0,0,.25);--btn-shadow-pressed: 0 2px 0 rgba(0,0,0,.35), 0 6px 10px rgba(0,0,0,.22);--btn-gloss: linear-gradient(to bottom, rgba(255,255,255,.55), rgba(255,255,255,0) 55%);--focus-ring: 0 0 0 3px color-mix(in srgb, var(--main-color) 55%, transparent);--display-bg: color-mix(in srgb, var(--background-color-dark) 92%, black 8%);--display-border: color-mix(in srgb, var(--border-light) 40%, transparent);--display-text: var(--text-secondary);--success-color: #6FD4A8;--error-color: #F2A6C4;--warning-color: #F4D35E;--info-color: #6fc5d4;--cooperate-color: #6FD4A8;--defect-color: #F2A6C4;--spacing-sm: .25rem;--spacing-md: .5rem;--spacing-lg: 1rem;--spacing-xl: 1.5rem;--radius-sm: .2rem;--radius-md: .35rem;--radius-lg: .5rem}*{margin:0;padding:0;box-sizing:border-box}html{font-size:16px;scrollbar-color:var(--panel-border) var(--background-color);scroll-behavior:smooth;overscroll-behavior:none;scrollbar-gutter:stable}body{max-height:100vh;font-family:system-ui,-apple-system,sans-serif;background-color:var(--background-color);color:var(--text-primary);transition:filter .15s ease}body.tooltip-active{filter:brightness(.98)}.tooltip{position:fixed;width:min(280px,70vw);max-height:50vh;overflow:hidden;border-radius:var(--radius-lg);padding:0;background:linear-gradient(180deg,color-mix(in srgb,var(--background-color-tr) 70%,white 30%),color-mix(in srgb,var(--background-color-tr) 90%,black 10%));border:1px solid color-mix(in srgb,var(--border-light) 55%,transparent);box-shadow:var(--panel-shadow);backdrop-filter:blur(10px) saturate(1.2);-webkit-backdrop-filter:blur(10px) saturate(1.2);pointer-events:none;z-index:99999}.tooltip:before{content:"";position:absolute;inset:0;border-radius:inherit;pointer-events:none;box-shadow:inset 0 1px #ffffff1a,inset 0 0 0 1px color-mix(in srgb,var(--main-color) 28%,transparent);opacity:.9}.tooltip:after{content:"";position:absolute;inset:-1px;border-radius:inherit;pointer-events:none;box-shadow:0 0 0 1px color-mix(in srgb,var(--main-color) 18%,transparent),0 10px 28px #00000040;opacity:.75;z-index:101}.tooltip-scroll{max-height:50vh;overflow-y:auto;overflow-x:hidden;pointer-events:auto;touch-action:pan-y;padding:var(--spacing-md) var(--spacing-lg);scroll-behavior:smooth;overscroll-behavior:contain;-webkit-overflow-scrolling:touch;scrollbar-width:thin;scrollbar-color:var(--border-light) transparent;font-size:.85rem;line-height:1.2}.tooltip-scroll strong{display:block;font-weight:700;text-transform:uppercase;letter-spacing:.2px;margin-bottom:var(--spacing-sm);color:var(--text-primary)}.tooltip-scroll>div{padding:.125rem 0;border-top:1px dashed color-mix(in srgb,var(--border-light) 22%,transparent)}.tooltip-scroll>div:first-of-type{border-top:0}.hegemon,.not-hegemon{font-weight:700}.hegemon{color:var(--success-color)}.not-hegemon{color:var(--error-color)}.strategies-header{margin-top:var(--spacing-md);font-weight:700;color:color-mix(in srgb,var(--text-primary) 88%,var(--text-secondary))}.strategy-item{display:flex;align-items:baseline;gap:.25rem;padding:.2rem 0;font-size:.85em;line-height:1.1;color:color-mix(in srgb,var(--text-secondary) 92%,var(--text-primary))}.strategy-item span{display:inline-flex;align-items:center;gap:var(--spacing-sm);margin-left:.25rem;padding:.125rem .4rem;border-radius:999px;border:1px solid color-mix(in srgb,var(--border-light) 22%,transparent);background:color-mix(in srgb,var(--background-color) 20%,transparent);white-space:nowrap}.cooperate{color:var(--cooperate-color)}.defect{color:var(--defect-color)}@media(prefers-reduced-transparency:reduce){.tooltip{backdrop-filter:none;-webkit-backdrop-filter:none;background:color-mix(in srgb,var(--background-color) 82%,black 18%)}}@media(max-width:768px){.tooltip{pointer-events:auto}}.world-map-container{display:flex;align-items:stretch;margin:0 auto;padding:0;font-family:system-ui,-apple-system,sans-serif;z-index:500}.world-map-svg{position:relative;z-index:1000;width:100%;min-width:700px;height:auto;max-height:78vh;display:block;padding:var(--spacing-md);border-radius:var(--radius-lg);background:linear-gradient(to bottom,#ffffff0f,#fff0 40%),var(--background-color-light);border-radius:var(--radius-md);border:2px solid var(--frame-border);box-shadow:inset 0 1px 0 var(--frame-highlight),inset 0 -1px #00000040,var(--frame-shadow)}.country-path{fill:color-mix(in srgb,var(--accent-color) 80%,white 20%);stroke:color-mix(in srgb,var(--border-dark) 70%,var(--background-color));stroke-width:.6;vector-effect:non-scaling-stroke;paint-order:stroke fill;transition:fill .25s ease,stroke .25s ease,stroke-width .25s ease,filter .25s ease,transform .25s ease}.country-path:hover{fill:color-mix(in srgb,var(--accent-color) 60%,var(--main-color) 40%);stroke:color-mix(in srgb,var(--main-color) 92%,black 8%);stroke-width:1.4;filter:drop-shadow(0 1px 4px rgba(0,0,0,.25)) brightness(1.2);transform:translateZ(0);z-index:2}.country-path.hegemon{fill:var(--main-color)}.country-path.non-hegemon{fill:color-mix(in srgb,var(--accent-color) 80%,white 20%)}.country-label{font-weight:700;font-size:11px;pointer-events:none;fill:var(--text-invert);filter:drop-shadow(1px 1px 7px var(--text-secondary));opacity:1}@media(max-width:768px){.world-map-svg{width:100%;min-width:unset}}.control-panel{position:relative;width:30%;min-height:520px;max-height:78vh;overflow:hidden;flex-direction:column;gap:var(--spacing-md);padding:var(--spacing-lg);background:linear-gradient(to bottom,#ffffff0f,#fff0 40%),var(--background-color-light);border-radius:var(--radius-md);border:2px solid var(--frame-border);box-shadow:inset 0 1px 0 var(--frame-highlight),inset 0 -1px #00000040,var(--frame-shadow);z-index:0}.control-panel h2{margin:0 0 var(--spacing-sm);color:var(--main-color);letter-spacing:.02em;text-align:center;text-transform:uppercase;z-index:1}.instructions,.controls{padding:var(--spacing-md);border-radius:var(--radius-md);background:var(--section-bg);border:1px solid var(--section-border)}.instructions{margin-bottom:var(--spacing-md)}.strategy-legend{display:flex;flex-wrap:wrap;gap:var(--spacing-sm);font-size:.85rem}.legend-item{color:var(--text-secondary)}.legend-item strong{color:var(--text-primary)}.control-panel .graphs{flex:1 1 auto;overflow:auto;min-height:0;padding:var(--spacing-md);border-radius:var(--radius-md);background:var(--section-bg);border:1px solid var(--section-border)}@media(max-width:768px){.control-panel{width:90%;height:auto;min-height:unset}}.controls{max-width:700px;margin:0 auto;z-index:0}.controls-setup,.controls-config{display:grid;grid-template-columns:1fr 1fr;gap:var(--spacing-md);margin-bottom:var(--spacing-md)}.controls-simulation{display:grid;grid-template-columns:1fr 1fr;grid-auto-rows:minmax(34px,auto);gap:var(--spacing-md);align-items:center}.controls-simulation .go,.controls-simulation .go-once{grid-column:1}.controls button{appearance:none;position:relative;min-height:2rem;border-radius:var(--radius-sm);border:1px solid color-mix(in srgb,var(--border-dark) 35%,transparent);background:linear-gradient(to bottom,color-mix(in srgb,var(--accent-color) 65%,white 35%),color-mix(in srgb,var(--accent-color) 90%,black 10%));color:var(--text-invert);padding:var(--spacing-sm) var(--spacing-md);font-size:1rem;cursor:pointer;box-shadow:inset 0 2px #ffffff59,inset 0 -2px #0003,0 6px 12px #0000002e,0 14px 24px #00000038;transition:transform .12s ease,box-shadow .18s ease,filter .18s ease,background .2s ease}.controls button:hover{transform:translateY(-2px);filter:brightness(1.12) saturate(1.35);background:linear-gradient(to bottom,color-mix(in srgb,var(--main-color) 70%,white 30%),color-mix(in srgb,var(--main-color) 92%,black 8%));box-shadow:inset 0 2px #ffffff73,inset 0 -2px #0000002e,0 10px 20px #00000040,0 20px 36px #0000004d}.controls button:active{transform:translateY(1px);background:linear-gradient(to bottom,color-mix(in srgb,var(--active-color) 70%,white 30%),color-mix(in srgb,var(--active-color) 92%,black 8%));box-shadow:inset 0 3px 6px #0000004d,inset 0 -1px #ffffff26,0 4px 8px #0000002e}.controls button:focus-visible{outline:none;box-shadow:inset 0 1px #ffffff73,inset 0 -1px #00000026,0 14px 28px #00000047,0 0 0 3px color-mix(in srgb,var(--main-color) 55%,transparent)}.controls button:disabled{cursor:not-allowed;transform:none;filter:saturate(.55) brightness(.96);background:linear-gradient(to bottom,color-mix(in srgb,var(--disabled-color) 75%,white 25%),color-mix(in srgb,var(--disabled-color) 92%,black 8%));border:1px solid color-mix(in srgb,var(--border-light) 40%,transparent);color:var(--text-disabled);box-shadow:inset 0 1px #ffffff24,inset 0 -1px #00000024,0 5px 12px #00000026}.go.is-running{background:var(--btn-gloss),linear-gradient(to bottom,color-mix(in srgb,var(--success-color) 70%,white 30%),color-mix(in srgb,var(--success-color) 82%,black 8%))}.hegemons-monitor{grid-column:2;grid-row:1 / span 2;align-self:stretch;display:grid;place-items:center;gap:var(--spacing-sm);padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--radius-md);background:var(--display-bg);border:1px solid var(--display-border);box-shadow:inset 0 0 0 1px #ffffff0f,0 10px 20px #0000002e;color:var(--display-text)}.monitor-label{font-weight:700;letter-spacing:.04em;opacity:.9}.monitor-value{width:100%;text-align:center;padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--radius-sm);background:color-mix(in srgb,white 10%,transparent);border:1px solid rgba(255,255,255,.1);color:var(--text-primary);font-size:1.35rem;font-variant-numeric:tabular-nums}.results{max-height:40vh;overflow-y:auto;scrollbar-width:thin;scrollbar-color:var(--accent-color) transparent;scrollbar-gutter:stable;display:flex;flex-direction:column;align-items:center;gap:var(--spacing-lg);margin-block:var(--spacing-md);padding:var(--spacing-md) var(--spacing-md) 5rem}.results .result-title{margin-bottom:calc(var(--spacing-lg) * -1)}.divider{width:100%;margin-block:var(--spacing-md) 0;border-top:.5px solid var(--border-light);opacity:.5}h3{color:var(--text-primary);margin:var(--spacing-sm) 0 calc(var(--spacing-sm) * -1)}.results output{width:100%;border-radius:var(--radius-md);background-color:var(--text-secondary);color:var(--text-invert);padding:var(--spacing-sm)}.results output:empty{display:none}.one-graph{width:100%;height:100%;overflow:hidden}.results output svg{width:100%;min-height:fit-content;height:auto;display:block}.graph-axis{stroke:var(--border-dark);stroke-width:.8;opacity:.35}.graph-tick{stroke:var(--border-dark);stroke-width:.8;opacity:.55}.axis-y,.axis-x{stroke:var(--border-dark);stroke-width:.5px;opacity:.5}.axis-label{font-size:10px;fill:color-mix(in srgb,var(--text-invert) 88%,var(--border-dark))}.axis-legend{font-size:11px;font-weight:700;fill:color-mix(in srgb,var(--text-invert) 92%,var(--border-dark));opacity:.9;text-transform:uppercase;letter-spacing:.06em}.axis-legend--y{letter-spacing:.1;font-weight:600}.graph-line{fill:none;stroke:var(--main-color);stroke-width:3px;stroke-linecap:round;stroke-linejoin:round}.bar{fill:var(--accent-color);opacity:.8}.bar:hover{opacity:1}.hegemon-graph{max-height:9rem;display:block;fill:none}.graph-line--hegemon{stroke:var(--success-color)}.graph-line--other{stroke:var(--error-color);opacity:.8}@media(max-width:768px){results{margin-bottom:7rem}}.simulation-wrapper{height:100vh;display:flex;flex-direction:column;align-items:stretch;padding:0 var(--spacing-xl)}.simulation-wrapper h1{text-transform:uppercase;font-size:clamp(1.25rem,1rem + .8vw,1.6rem);line-height:1.2;font-weight:700;margin:0 0 .5rem;letter-spacing:.02em}.simulation-header p{font-size:.95rem;text-align:center;opacity:.8;max-width:60ch;margin:0 auto}.geopolitical-simulation{position:relative;isolation:isolate;width:100%;max-width:1200px;margin:0 auto;display:flex;align-items:stretch;justify-content:center;gap:var(--spacing-xl);padding:var(--spacing-xl) 0}.simulation-header,.control-panel,.world-map-svg{background:linear-gradient(to bottom,#ffffff0f,#fff0 40%),var(--background-color-light);box-shadow:inset 0 1px 0 var(--frame-highlight),inset 0 -1px #00000040,var(--frame-shadow);border:2px solid var(--frame-border);border-radius:var(--radius-md)}.simulation-header{width:100%;max-width:1200px;margin:var(--spacing-lg) auto 0;padding:var(--spacing-md);text-align:center}.world-map-container{position:relative;flex:1 1 700px;min-width:min(700px,100%);z-index:50}.control-panel{position:relative;flex:0 0 360px;z-index:0}@media(max-width:1200px){.geopolitical-simulation{min-height:unset;align-items:flex-start;flex-wrap:wrap}.world-map-container,.control-panel{flex:1 1 100%}}@media(max-width:648px){.simulation-wrapper{padding:var(--spacing-lg)}.simulation-header{margin:0 auto}.geopolitical-simulation{padding:var(--spacing-lg) 0;gap:var(--spacing-lg)}}
